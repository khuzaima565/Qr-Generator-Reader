"use strict";document.addEventListener("DOMContentLoaded",function(){var n=document.getElementById("qr-input"),e=document.getElementById("generate-btn"),a=document.getElementById("qr-code"),t=document.getElementById("start-btn"),r=document.getElementById("video"),i=document.getElementById("output"),d=document.getElementById("file-input"),o=document.getElementById("download-btn");function c(){if(r.readyState===r.HAVE_ENOUGH_DATA){var e=document.createElement("canvas");e.width=r.videoWidth,e.height=r.videoHeight;var t=e.getContext("2d");t.drawImage(r,0,0,e.width,e.height);var n=t.getImageData(0,0,e.width,e.height),a=jsQR(n.data,e.width,e.height);a?(i.textContent="QR Code Data: ".concat(a.data),r.style.display="none",r.srcObject.getTracks().forEach(function(e){return e.stop()}),r.srcObject=null):requestAnimationFrame(c)}else requestAnimationFrame(c)}e.addEventListener("click",function(){var e=n.value;if(e){a.innerHTML="";var t=new QRCode(a,{text:e,width:256,height:256,colorDark:"#ffffff",colorLight:"#00216e"});o.setAttribute("href",t._el.firstChild.toDataURL("image/png")),o.setAttribute("download","qr-code.png")}else alert("Please enter a valid text or URL")}),t.addEventListener("click",function(){r.style.display="block",function(){var t,n;regeneratorRuntime.async(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t={video:{facingMode:"environment"}},e.next=4,regeneratorRuntime.awrap(navigator.mediaDevices.getUserMedia(t));case 4:n=e.sent,r.srcObject=n,r.setAttribute("playsinline",!0),r.play(),requestAnimationFrame(c),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(0),console.error("Error accessing the camera: ",e.t0);case 14:case"end":return e.stop()}},null,null,[[0,11]])}()}),d.addEventListener("change",function(e){var t=e.target.files[0];if(t){var n=new FileReader;n.onload=function(e){var r=new Image;r.onload=function(){var e=document.createElement("canvas");e.width=r.width,e.height=r.height;var t=e.getContext("2d");t.drawImage(r,0,0,e.width,e.height);var n=t.getImageData(0,0,e.width,e.height),a=jsQR(n.data,e.width,e.height);i.textContent=a?"QR Code Data: ".concat(a.data):"No QR code found."},r.src=e.target.result},n.readAsDataURL(t)}})});
//# sourceMappingURL=script.min.js.map
